<div class="container" style="margin-top: 30px;">
<div class="card-panel">
    <table class="striped bordered">
        <thead>
            <tr>
                <th data-field=""></th>
                <th data-field="">Item</th>
                <th data-field="name">Quantidade</th>
                <th data-field="name">$</th>
                <th data-field="name">%</th>
            </tr>
        </thead>

        <tbody>
            <% @results.each.with_index(1) do |(k,v), index| %>
                <tr>
                    <td><%= index %></td>
                    <td><%= Item.find(k).name %></td>
                    <td><%= v %></td>
                    <td><%= Item.find(k).price * v %></td>
                    <td><%= ((v*100) / @results.map { |h,hh| hh }.sum).round(2) %></td>
                </tr>

            <% end %>
        </tbody>
    </table>
</div>
</div>